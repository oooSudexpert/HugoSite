{"version":3,"sources":["file:///C:/Users/gsvtl/source/repos/Hugo/sudexpert.ooo/assets/js/main.js"],"sourcesContent":["/**\r\n * --------------------------------------------------------------------------\r\n * Bootstrap\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\r\n * --------------------------------------------------------------------------\r\n */\r\n\r\n////// требуется '@popperjs/core'  !!!!!!!!!!!!!!!!!!!!!!!!!\r\n\r\n//export { default as Alert } from './src/alert.js'\r\n//export { default as Button } from './src/button.js'\r\n//export { default as Carousel } from './src/carousel.js'\r\n//export { default as Collapse } from './src/collapse.js'\r\n//////export { default as Dropdown } from './src/dropdown.js'\r\n//export { default as Modal } from './src/modal.js'\r\n//export { default as Offcanvas } from './src/offcanvas.js'\r\n//////export { default as Popover } from './src/popover.js'\r\n//export { default as ScrollSpy } from './src/scrollspy.js'\r\n//export { default as Tab } from './src/tab.js'\r\n//export { default as Toast } from './src/toast.js'\r\n//////export { default as Tooltip } from './src/tooltip.js'\r\n\r\n\r\n\r\n/**\r\n * --------------------------------------------------------------------------\r\n * Main site js\r\n * --------------------------------------------------------------------------\r\n */\r\n\r\n(function () {\r\n  'use strict'\r\n\r\n  var successMessage = ':) Ваша заявка принята,\\n сейчас наш специалист Вам перезвонит.';\r\n  var errorMessage = ':( Возникла непредвиденная ситуация.\\n Ваша заявка не отправлена,\\n попробуйте ещё раз.';\r\n\r\n  const maskOptions = {\r\n    mask: '+{7} (000) 000-00-00'\r\n  };\r\n\r\n  var inputs = document.querySelectorAll('[name=\"Phone\"]');\r\n  Array.prototype.slice.call(inputs)\r\n  .forEach(function (inputPhone) {\r\n    IMask(inputPhone, maskOptions); // https://imask.js.org/\r\n  });\r\n\r\n  var forms = document.querySelectorAll('.contact-form');\r\n\r\n  Array.prototype.slice.call(forms)\r\n    .forEach(function (form) {\r\n\r\n      form.addEventListener('submit', async function (event) {\r\n        event.preventDefault()\r\n        event.stopPropagation()\r\n        if (form.checkValidity()) {\r\n          const city = form.dataset.city;\r\n          let phone = form.querySelector('[name=\"Phone\"]').value.replace(/\\D/g, '').substr(-10, 10);\r\n          let message;\r\n          const inputMessage = form.querySelector('[name=\"Message\"]');\r\n          if (inputMessage !== null) {\r\n            message = inputMessage.value;\r\n          }\r\n          await fetchMessage(city, phone, message).then((response) =\u003e {\r\n            if (response.status == 200) {\r\n              alert(successMessage);\r\n              form.classList.remove('was-validated');\r\n              form.reset();\r\n            } else {\r\n              alert(errorMessage);\r\n            }\r\n          });\r\n        } else {\r\n          form.classList.add('was-validated');          \r\n        }           \r\n      }, false)\r\n\r\n    })\r\n\r\n  async function fetchMessage(city, phone, message) {     \r\n\r\n    let data;\r\n    if (message == null) {\r\n      data = { city: city, phone: phone };\r\n    } else {\r\n      data = { city: city, phone: phone, text: message };      \r\n    }    \r\n    const params = new URLSearchParams(data).toString();\r\n    const url = `https://functions.yandexcloud.net/d4ehgtkcf9e302257mjc?${params}`;\r\n  \r\n    return await fetch(url);\r\n  }  \r\n\r\n})();\r\n  "],"mappings":";;AA8BA,GAAC,WAAY;AACX;AAEA,QAAI,iBAAiB;AACrB,QAAI,eAAe;AAEnB,UAAM,cAAc;AAAA,MAClB,MAAM;AAAA,IACR;AAEA,QAAI,SAAS,SAAS,iBAAiB,gBAAgB;AACvD,UAAM,UAAU,MAAM,KAAK,MAAM,EAChC,QAAQ,SAAU,YAAY;AAC7B,YAAM,YAAY,WAAW;AAAA,IAC/B,CAAC;AAED,QAAI,QAAQ,SAAS,iBAAiB,eAAe;AAErD,UAAM,UAAU,MAAM,KAAK,KAAK,EAC7B,QAAQ,SAAU,MAAM;AAEvB,WAAK,iBAAiB,UAAU,eAAgB,OAAO;AACrD,cAAM,eAAe;AACrB,cAAM,gBAAgB;AACtB,YAAI,KAAK,cAAc,GAAG;AACxB,gBAAM,OAAO,KAAK,QAAQ;AAC1B,cAAI,QAAQ,KAAK,cAAc,gBAAgB,EAAE,MAAM,QAAQ,OAAO,EAAE,EAAE,OAAO,KAAK,EAAE;AACxF,cAAI;AACJ,gBAAM,eAAe,KAAK,cAAc,kBAAkB;AAC1D,cAAI,iBAAiB,MAAM;AACzB,sBAAU,aAAa;AAAA,UACzB;AACA,gBAAM,aAAa,MAAM,OAAO,OAAO,EAAE,KAAK,CAAC,aAAa;AAC1D,gBAAI,SAAS,UAAU,KAAK;AAC1B,oBAAM,cAAc;AACpB,mBAAK,UAAU,OAAO,eAAe;AACrC,mBAAK,MAAM;AAAA,YACb,OAAO;AACL,oBAAM,YAAY;AAAA,YACpB;AAAA,UACF,CAAC;AAAA,QACH,OAAO;AACL,eAAK,UAAU,IAAI,eAAe;AAAA,QACpC;AAAA,MACF,GAAG,KAAK;AAAA,IAEV,CAAC;AAEH,mBAAe,aAAa,MAAM,OAAO,SAAS;AAEhD,UAAI;AACJ,UAAI,WAAW,MAAM;AACnB,eAAO,EAAE,MAAY,MAAa;AAAA,MACpC,OAAO;AACL,eAAO,EAAE,MAAY,OAAc,MAAM,QAAQ;AAAA,MACnD;AACA,YAAM,SAAS,IAAI,gBAAgB,IAAI,EAAE,SAAS;AAClD,YAAM,MAAM,0DAA0D,MAAM;AAE5E,aAAO,MAAM,MAAM,GAAG;AAAA,IACxB;AAAA,EAEF,GAAG;","names":[]}